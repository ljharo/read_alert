version: '3.8'

services:
  bot:
    build: .
    container_name: read_alert_bot
    # Restart the bot if it fails
    restart: unless-stopped
    volumes:
      # Mount the database file for persistence
      - ./big_brother.db:/app/big_brother.db
    environment:
      # These variables should be defined in a .env file next to docker-compose.yml
      # or explicitly provided here.
      # Example:
      # TELEGRAM_TOKEN: your_telegram_bot_token
      # DATABASE_URL: sqlite:///big_brother.db
      - TELEGRAM_TOKEN=${TELEGRAM_TOKEN}
      - DATABASE_URL=${DATABASE_URL}
    # If your bot needs to listen on a port (e.g., for webhooks), uncomment this:
    # ports:
    #   - "80:80"